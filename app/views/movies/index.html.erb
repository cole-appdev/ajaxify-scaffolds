<p id="notice"><%= notice %></p>

<div class="d-flex flex-row">
  <div class="p-1"><h2>Movies</h2></div>
</div>

<table id="movie-table" class="table table-striped">
  <thead class="thead-dark">
    <tr>
      <th>Title</th>
      <th>Year</th>
      <th>Director</th>
      <th>Description</th>
      <th>Duration</th>

      <th colspan="3"></th>
    </tr>
  </thead>

  <%= render "movies/form", movie: Movie.new %>

  <tbody id="movies">
    <% @movies.each do |movie| %>
      <tr id="<%= dom_id(movie) %>">
        <td class="align-middle"><%= movie.title %></td>
        <td class="align-middle"><%= movie.year %></td>
        <td class="align-middle"><%= movie.director.name %></td>
        <td class="align-middle">

          <a class="btn btn-secondary btn-sm" data-toggle="collapse" href="#collapse_<%= dom_id(movie) %>" role="button" aria-expanded="false" aria-controls="collapse_<%= dom_id(movie) %>">
            Show Description
          </a>
          <div class="collapse" id="collapse_<%= dom_id(movie) %>">
            <div class="card card-body">
              <%= movie.description %>
            </div>
          </div>
    
        </td>
        <td class="align-middle"><%= movie.duration %></td>
        <td class="align-middle"><%= link_to 'Destroy', movie, method: :delete, remote: true %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>